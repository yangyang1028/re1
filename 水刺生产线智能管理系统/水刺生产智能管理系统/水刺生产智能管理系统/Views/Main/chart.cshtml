@*@using 水刺生产智能管理系统.Models
@model Tuple<List<Syschart>>*@
@{
    ViewBag.Title = "智能管理系统";
    Layout = "~/Views/Shared/_Layout.cshtml";
}





@*<div>
    <div id="main" style="width:800px;height:800px; "></div>*@
    <script src="~/Scripts/echarts.min.js"></script>
@*<script>
        var myChart = echarts.init(document.getElementById('main'));
        // 显示标题，图例和空的坐标轴
        myChart.setOption({
            title: {
                text: '异步数据加载示例'
            },
            tooltip: {},
            legend: {
                data: ['销量']
            },
            xAxis: {
                data: []
            },
            yAxis: {},
            series: [{
                name: '销量',
                type: 'bar',
                data: []
            }]
        });

        // 异步加载数据
        $.get('../json/data.json').done(function (data) {
            // 填入数据
            myChart.setOption({
                xAxis: {
                    data: data.categories
                },
                series: [{
                    // 根据名字对应到相应的系列
                    name: '销量',
                    data: data.data
                }]
            });
        });
    </script>*@


@*<script>
            var data = [10, 1, 35, 26, 48, 5];
            var myChart = echarts.init(document.getElementById('main'));
            // 显示标题，图例和空的坐标轴
            myChart.setOption({
                title: {
                    text: '异步数据加载示例'
                },
                tooltip: {},
                legend: {
                    data: ['销量']
                },
                xAxis: {
                    data: []
                },
                yAxis: {},
                series: [{
                    name: '销量',
                    type: 'bar',
                    data: []
                }]
            });

            // 异步加载数据

                // 填入数据
                myChart.setOption({
                    xAxis: {
                        data: [1,2,3,4,5,6,7,8,9,10]
                    },
                    series: [{
                        // 根据名字对应到相应的系列
                        name: '销量',
                        data: data
                    }]
                });

        </script>
    </div>*@

@*<div>

        <table>

            @foreach(var item in Model.Item1)
            {

                <tr>
                    <td>@item.id</td>
                    <td>@item.speed</td>
                    <td>@item.time</td>
                </tr>
            }

        </table>
    </div>*@



<div id="div" style = "width:800px;height:800px;"></div>
<script>
    var json = {};
    json.time = [];
    json.speed = [];
    var myChart = echarts.init(document.getElementById('div'));
        // 显示标题，图例和空的坐标轴
        myChart.setOption({
            title: {
                text: '异步数据加载示例'
            },
            tooltip: {},
            legend: {
                data: ['销量']
            },
            xAxis: {
                data: []
            },
            yAxis: {},
            series: [{
                name: '销量',
                type: 'bar',
                data: []
            }]
        });

    //    // 异步加载数据
    //// 填入数据
    //$.get("../Json/BookInfo").done(function (data) {
    //    myChart.setOption({
    //        xAxis: {
    //            data: time
    //        },
    //        series: [{
    //            // 根据名字对应到相应的系列
    //            name: '销量',
    //            data: speed
    //        }]
    //    });
    //    //id.innerHTML = formatTime(data[0].time);
    //    //alert(data[0]["time"]);
    //});
    $.get("/Json/BookInfo").done(function(data) {
        //var json = JSON.stringify(data);
        //alert(json);
        
        for (var i = 0; i < data.length; i++) {
            json.time.push(formatTime(data[i].time));
            json.speed.push(data[i].speed);
        }
        //alert(data.length);
        //alert(json.time);
        myChart.setOption({
            xAxis: {
                data: json.time
            },
            series: [{
                // 根据名字对应到相应的系列
                name: '销量',
                data: json.speed
            }]
        });
    });

</script>
